<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aplicador Neuropsicológico — Skeleton (TESLIP / TENOM / RUCHE-M / TEIC)</title>
<style>
  :root{
    --bg:#f4f6f9;
    --card:#fff;
    --muted:#666;
    --primary:#0b66d1;
    --border:#e0e4eb;
  }
  body{
    font-family:system-ui,Roboto,Arial;
    background:var(--bg);
    color:#1a1a1a;
    max-width:1100px;
    margin:20px auto;
    padding:16px;
  }
  h1{
    margin:0 0 12px;
    font-size:1.8rem;
    color:#222;
  }
  h3{
    margin:0 0 8px;
    font-size:1.2rem;
    color:#333;
  }
  .card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:12px;
    padding:18px;
    margin-bottom:18px;
    box-shadow:0 3px 12px rgba(0,0,0,0.06);
  }
  label{
    display:block;
    margin:8px 0;
    font-weight:500;
  }
  input[type=number], input[type=text], select, textarea{
    padding:10px;
    border-radius:8px;
    border:1px solid #ccd2db;
    width:100%;
    max-width:250px;
    font-size:0.95rem;
  }
  button{
    padding:10px 16px;
    border-radius:8px;
    border:0;
    background:var(--primary);
    color:#fff;
    cursor:pointer;
    font-size:0.95rem;
    font-weight:500;
    transition:background 0.2s ease;
  }
  button:hover{
    background:#094fa3;
  }
  pre{
    background:#f9fafc;
    padding:12px;
    border-radius:8px;
    border:1px solid #e6e9ef;
    overflow:auto;
    font-size:0.85rem;
  }
  .row{
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    align-items:flex-end;
  }
  .muted{
    color:var(--muted);
    font-size:0.9rem;
  }
</style>
</head>
<body>
  <h1>Aplicador Neuropsicológico</h1>

  <div class="card">
    <div class="muted">Testes disponíveis: TESLIP, TENOM, RUCHE-M, TEIC. Carregue as normas via CSV.</div>
    <div style="margin-top:14px" class="row">
      <label>Selecione teste: <select id="selectTest"></select></label>
      <label>Idade (anos): <input id="age" type="number" min="0" value="30"/></label>
      <label>Escolaridade (anos): <input id="education" type="number" min="0" value="12"/></label>
    </div>
  </div>

  <div id="testArea" class="card"></div>

  <div id="resultCard" class="card" style="display:none">
    <h3>Resultado</h3>
    <div id="resultSummary"></div>
    <pre id="resultJson" style="margin-top:10px"></pre>
  </div>

  <div class="card">
    <h3>Gerenciar normas (CSV)</h3>
    <div class="muted">Upload de CSV com normas. Formato mínimo (colunas):</div>
    <pre>testId, minAge, maxAge, minEdu, maxEdu, rawMin, rawMax, percentile, classification</pre>
    <input id="fileNorms" type="file" accept=".csv" />
    <div style="margin-top:10px">
      <button id="downloadModel">Baixar modelo CSV</button>
      <span id="normMsg" class="muted" style="margin-left:10px"></span>
    </div>
    <div style="margin-top:10px" class="muted">Normas carregadas: <span id="normCount">0</span></div>
  </div>

  <div class="card">
    <h3>Configuração / Admin</h3>
    <div class="muted">Edite a configuração dos testes abaixo. As normas são carregadas separadamente.</div>
    <textarea id="configEditor" style="width:100%;height:220px;margin-top:10px;font-family:monospace;font-size:13px"></textarea>
    <div style="margin-top:12px"><button id="applyConfig">Aplicar configuração</button></div>
  </div>

<script>
// (script permanece igual à versão anterior)
</script>
</body>
</html>
